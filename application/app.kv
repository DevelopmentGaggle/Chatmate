ScreenManager:
    StartScreen:
        id: start_screen
    MainScreen:
        id: main_screen

<StartScreen>:
    name: 'start'
    id: 'start'
    MDScreen:
        id:'screen start'
        MDCard:
            id: 'card'
            size_hint: None, None
            size: 650, 800
            pos_hint: {'center_x': 0.5, 'center_y':0.5}
            elevation: 2
            padding: 25
            spacing: 25
            orientation: 'vertical'
            md_bg_color: app.theme_cls.primary_dark

            MDLabel:
                id: welcome
                text: 'Welcome to Chatmate'
                halign: 'center'
                size_hint_y: None
                height: self.texture_size[1]
                padding_y: 15
                color: 'white'
                font_style: 'H2'
                font_size: 80
                bold: True

            MDTextField:
                id: name
                hint_text: 'Name'
                icon_left: 'account'
                size_hint_x: None
                width: 450
                font_size: 40
                pos_hint: {'center_x': 0.5}

            MDTextField:
                id: api_key
                hint_text: 'ChatGPT API Key'
                icon_left: 'account-key'
                size_hint_x: None
                width: 450
                font_size: 40
                pos_hint: {'center_x': 0.5}

            MDRoundFlatButton:
                text: 'Start Session'
                text_color: 'white'
                line_color: 'white'
                line_width: 3
                font_size: 35
                pos_hint: {'center_x': 0.5}
                on_press: app.session(name.text, api_key.text)

            Widget: 
                size_hint_y: None
                height: 30

<MainScreen>:
    name: 'main'
    on_pre_enter: app.load_main()
    MDScreen:
    
        MDGridLayout:
            cols: 1
            padding: 5
        
            MDRectangleFlatIconButton:
                on_press: app.go_back()
                line_color: (0, 0, 0, 0)
                text: 'Logout'
                text_color: 'white'
                halign: 'left'
                font_size: 35
                pos_hint: {'center_x': 0.5}
                icon: 'keyboard-backspace'
                size_hint_x: 1.0
                bold: True

            MDScrollView:
                bar_color: 'white'
                MDList:
                    id: chatlist
                    padding: ('5dp', '5dp', '5dp', '5dp')
                    spacing: '5dp'
                    radius: [25, 25, 25, 25]
            

            